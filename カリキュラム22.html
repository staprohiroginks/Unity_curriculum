<!DOCTYPE html>
<html>
<head>
<title>カリキュラム22.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="unity22ugui%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B">Unity22:uGUIについて理解する</h1>
<p>UnityのUI作成についてはuGUIというボタンやテキストなどをドラッグアンドドロップすることでUIを作成する方法と、UITool Kit といいUXMLというHTMLに似た言語とUSSというCSSに似た言語でUIを作る方法があります。</p>
<p>今回は昔からあり情報も多いuGUIの基本的な使い方について説明します。</p>
<h2 id="%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90">プロジェクトの作成</h2>
<p>今回はプロジェクト名を<strong>uGUI_名前</strong>で作成してください。</p>
<p>詳しい作成方法についてはカリキュラム14を確認してください。</p>
<p>その後Cubeを0,0,0に配置し、scaleは1,1,1に設定してください。</p>
<h2 id="ugui%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9">uGUIの使い方</h2>
<p>uGUIは基本的に基本的にCanvasというゲームオブジェクト内にボタンやテキストを追加するという形になっています。</p>
<p>そのため初めにCanvasを追加する必要があります。</p>
<p>まず、以下の画像のようにヒエラルキーウィンドウを右クリックするとゲームオブジェクトを追加するポップアップが表示されるので、<strong>UI</strong>をクリックしてください。</p>
<p><img src="./images/Unity_UI_Menu.png" alt="ポップアップのUIを選択"></p>
<p><strong>UI</strong>をクリックすると以下の画像のように追加できるものの一覧が表示されるのでCanvasをクリックします。</p>
<p><img src="./images/Unity_Add_Canvas.png" alt="ポップアップのUIを選択"></p>
<p>Canvasをクリックするとヒエラルキーウインドウは以下のようにCanvasとEventSystemが追加されます。</p>
<p><img src="./images/Hierarchy_Add_Canvas.png" alt="Canvasの追加"></p>
<p>EventSystemはゲームオブジェクトなどがクリックされたときなどに動作する処理を指定することができるようになります。</p>
<p>今回は使用しないので無視してもらって大丈夫です。</p>
<p>Canvasを追加するとシーンウインドウ画面に枠線が表示されるかもしくは追加前とあまり変わらないと思います。
それはCanvasが大きすぎて見えないことが原因です。</p>
<p>これを解消するために、以下の画像の赤色で囲った2Dと表示されているところをクリックします。(シーンウインドウの右上)
これをクリックすることでz軸のプラス方向を向く平面として表示されます。</p>
<p><img src="./images/Unity_2D_Button.png" alt="2Dボタン"></p>
<p>クリックすると以下のようになります。</p>
<p><img src="./images/Unity_2D_View.png" alt="2D表示"></p>
<p>これでもまだ小さいためヒエラルキーウインドウのCanvasをダブルクリックしてください。</p>
<p>すると以下の画像のようにCanvasの全体が表示されます。</p>
<p><img src="./images/Unity_2D_View2.png" alt="Canvasの全体"></p>
<p>適宜ズームなどをして調整をしてください。</p>
<p>なお、<strong>2Dボタンはを一度クリックすると元に戻るので3Dのゲームオブジェクトを移動させる際は再度クリックしてください</strong></p>
<p>では追加したCanvasをクリックしインスペクターウインドウを表示すると以下のようになっています。</p>
<p>中でも大切な設定について説明します。</p>
<h3 id="%E4%BA%8C%E7%A8%AE%E9%A1%9E%E3%81%AEui%E9%83%A8%E5%93%81">二種類のUI部品</h3>
<p>uGUIにはボタンやLegacyとTextMeshProの二種類があります。</p>
<p>Legacyのほうが簡単ですぐに実装できますが、一方で機能が少ないというデメリットがあります。</p>
<p>対してTextMeshProは配置までの手間が多い一方で機能が多くカスタマイズが容易というメリットがあります。</p>
<p>今回は将来性を加味しTextMeshProを使用します。</p>
<h3 id="%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B">テキストを追加する。</h3>
<p>まずCanvasを右クリックして以下の画像のように<code>UI&gt;テキスト - TextMeshPro</code>をクリックします。</p>
<p><img src="./images/Unity_Add_Text1.png" alt="テキスト追加"></p>
<p>クリックすると以下の画像のようにポップアップウインドウが表示されるので<code>Import TMP Essentials</code>をクリックしてください。</p>
<p><img src="./images/Unity_TMP_Importer.png" alt="TMP Importer"></p>
<p>クリックして処理が終わるとバツボタンをクリックしてください。</p>
<p>その後シーンウインドウを確認すると以下の画像のように文字が表示されていることが確認できます。</p>
<p><img src="./images/Unity_Add_Text4.png" alt="テキスト追加"></p>
<p>ではテキストをクリックして設定項目を確認してみましょう。</p>
<p><img src="./images/Hierarchy_Text_TMP.png" alt="テキスト追加"></p>
<p>確認してみるとTransformの代わりに<code>RectTransform</code>というゲームオブジェクトになっていることがわかります。
ほかにも<code>TextMeshPro - Text(UI)</code>というのもあるのがわかります。</p>
<p>今回は<code>RectTransform</code>と<code>TextMeshPro - Text(UI)</code>について詳しく説明していきます。</p>
<h4 id="recttransform%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9">RectTransformの使い方</h4>
<p>RectTransformはTransformとは異なり、位置やscale、回転のほかにアンカーやがあることがわかります。</p>
<p>これらの設定について詳しく説明します。</p>
<p>まず、以下の画像の赤色で囲んだ部分をクリックしてください</p>
<p><img src="./images/uGuiAnchor.png" alt="アンカー"></p>
<p>クリックすると以下のようなアンカープリセットと呼ばれる画面が表示されます。</p>
<p><img src="./images/AnchorPreset.png" alt="アンカープリセットの説明"></p>
<p>これは位置を指定する際にCanvasのどこを基準に移動するかを示してます。
この基準を設定することで画面の大きさが変わった際にボタンなどを相対的な位置で指定することができるようになります。
では今回は左上に設置すると考えて以下の画像の緑色の四角で囲んだ部分をクリックして下さい。</p>
<p><img src="./images/AnchorPresetSet.png" alt="アンカープリセットの設定"></p>
<p>このほかに右と下にあるstretchという項目を選択すると画面の大きさに応じて要素の大きさも変わることを意味しています。</p>
<p>続いて位置を設定します。
位置はx=120,y=-40に設定します。
この位置は先ほど指定したアンカープリセットの場所からそれぞれどれだけ離れたかを示しています。</p>
<p>幅と高さについてはテキストなどUIの要素の大きさを示しています。
スケールとの違いとしてはスケールは要素を引き伸ばして大きくするのに対してこの幅と高さは引き伸ばさずに大きさを変えるだけになっています。</p>
<p>今回は次のアンカーの項目については設定が多少複雑なので今回は割愛します。
基本的にはアンカープリセットで設定できる内容をさらに詳しく設定できるようになっています。</p>
<p>ピボットはアンカーを設定する際にテキストの座標の基準になる位置を示しています。
テキストの長さを1としてx軸は左側が0右側が1としたときの割合になっています。y軸の長さも同様で下側が0で上側が1とした割合になっています。
今回はx:0.5,y:0.5なので中心が基準となっています。</p>
<p>回転やスケールについては通常のTransformと同様ですが文字を含むUIの要素はスケールを変えると縦横の比が変わってしまうので注意が必要です。</p>
<p>大きな文字を扱いたいときは次に説明するTextMeshPro - Text(UI)の要素で使用できます。</p>
<h4 id="textmeshpro---textui">TextMeshPro - Text(UI)</h4>
<p>TextMeshPro - Text(UI)というコンポーネントが追加されていると思います。
この部分で文字の変更を行います。</p>
<p>最初はこのような上チアになっていると思います。</p>
<p><img src="./images/TextMeshProTextSetting.png" alt="TextMeshPro - Text(UI)"></p>
<p>まず赤い四角で囲まれたNew Textと記述された部分があると思います。</p>
<p><img src="./images/TextMeshProTextSetting2.png" alt="TextMeshPro - Text(UI)"></p>
<p>この部分にテキストを入力することで表示されている内容を編集することができるようになっています。
では以下のように書き換えてみましょう。</p>
<pre class="hljs"><code><div>Unity Text
</div></code></pre>
<p>書き換えるとシーンウインドウのほうも変わっていることがわかると思います。</p>
<p>実はTextMeshProではHTMLのような<strong>タグ</strong>を使用し文字を装飾することができます。</p>
<p>HTMLと近いの使い方ですが使用できるタグの一部を抜粋し以下の表に記述します。</p>
<table>
<thead>
<tr>
<th>使用例</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;color=&quot;red&quot;&gt;Text&lt;/color&gt;</td>
<td>Textという文字が赤色になります。色の指定は16進数でも可能です。</td>
</tr>
<tr>
<td>&lt;b&gt;Text&lt;/b&gt;</td>
<td>Textという文字が太字になります。</td>
</tr>
<tr>
<td>&lt;i&gt;Text&lt;/i&gt;</td>
<td>Textという文字が斜体(斜めな文字)になります。</td>
</tr>
</tbody>
</table>
<p>ではUnityという文字を赤に変えてみましょう。</p>
<pre class="hljs"><code><div>&lt;color=&quot;red&quot;&gt;Unity&lt;/color&gt; Text
</div></code></pre>
<p>このように記述することでUnityの部分だけ赤色になっていることがわかります。</p>
<p>次のText Styleについてはh1,h2,h3といった設定ができます。題名などはh1やh2を使うとよいかもしれません。</p>
<p>Font Assetはフォントを表しています。しかしながら通常のフォントファイルを使用することができないので変換する必要があります。これについては<strong>TextMeshProの日本語対応</strong>で説明します。</p>
<p>FontStyleは以下の画像のような種類があり、左から太字、斜体、下線、打消し線、すべての文字を小文字にする、すべての文字を大文字にする、すべての文字を大文字にして大文字に設定されている文字を大きくするといったことが設定できます。</p>
<p><img src="./images/TextMeshProTextSettingFontStyle.png" alt="TextMeshPro Font Style"></p>
<p>続いてのFont Sizeはその名の通りFontの大きさを変更することができる項目です。文字の大きさを変更したい場合スケールよりもこちらを変更することをお勧めします。</p>
<p>VertexColorは文字の色の設定が可能です。</p>
<p>次の項目のColor Gradationをチェックするとグラデーションの設定が可能ですが複雑なので今回の説明は省略します。</p>
<p>Override Tagsについてはタグで設定した色をここで指定した色に変更するのかを指定します。この項目をチェックするとタグで指定した色が上書きされます。</p>
<p>次のAligmentについては文字の位置を指定することができる項目です。
よく使うのは赤色で囲まれた項目で上段の左から文字を左に寄せる、中央に寄せる、右に寄せる設定になっています。
下段については文字を上に寄せる、文字を高さの範囲で下に寄せる、中心に寄せるという指定が可能です。</p>
<p><img src="./images/TextMeshProTextSettingAlignment.png" alt="TextMeshPro Font Style"></p>
<p><code>TextMeshPro - Text(UI)</code>の部分の基本的な使い方については以上とします。
他の要素については興味がある方は調べてみてください。</p>
<h4 id="textmeshpro%E3%81%AE%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%AF%BE%E5%BF%9C">TextMeshProの日本語対応</h4>
<p>TextMeshProでは日本語が使えません。</p>
<p>実際に日本語を先ほどの<code>TextMeshPro - Textのコンポーネント</code>で日本語を指定してみてください。</p>
<p>設定しても以下の画像のように文字が四角に置き換わってしまいます。</p>
<p><img src="./images/TextMeshPro文字化け.png" alt="TextMeshPro Font Style"></p>
<p>これはフォントが日本語に対応していないことが原因です。
そのため日本語が使えるように設定する必要があります。</p>
<p>まずフォントファイルをダウンロードする必要があります。</p>
<p>以下のリンクをクリックしてGoogle Fontsを使用します。
今回はGoogle Fontsからダウンロードしますが、他のサイトからDLしたフォントでも問題ありません。</p>
<p><a href="https://fonts.google.com/noto/specimen/Noto+Sans+JP">Google FontsのNoto Sans</a></p>
<p>開くと以下のように表示されると思うので右上の<code>Get font</code>をクリックしてください。</p>
<p>もし<code>Remove font family</code>と表示されていた場合は一度クリックすると<code>Get Font</code>になると思うので<code>Get Font</code>をクリックしてください。</p>
<p><img src="./images/Noto_sans1.png" alt="Noto Sans"></p>
<p>すると以下のような画面に切り替わるので画像中の赤い四角で囲まれた部分をクリックしてください。
クリックすると<code>Noto_Sans_JP.zip</code>というファイルがダウンロードされるので解凍してください。</p>
<p>解凍できると中には<code>static</code>というフォルダがあると思うので
<code>static</code>内にある<code>NotoSansJP-Medium.ttf</code>をアセットにドラッグアンドドロップします。</p>
<p>ドラッグアンドドロップしたら以下のようになります。</p>
<p><img src="./images/Unity_MeshTextPro_AddFont.png" alt=""></p>
<p>その後フォントアセットクリエイターという画面を開く必要があります。</p>
<p>WindowsもMacも上部のバーから<code>ウインドウ&gt;TextMeshPro&gt;フォントアセットクリエーター</code>をクリックします。</p>
<p>すると以下のような画面が表示されます。</p>
<p><img src="./images/FontAssetCreator1.png" alt="フォントアセットクリエイター"></p>
<p>これを使用して通所のフォントファイルからMeshTextProで使用できる形式に変更することができます。</p>
<p>まず
Source Font Fileの項目を設定します。Source Font Fileの行の一番右の丸い部分をクリックすると以下のようにフォントの一覧が表示されるので、先ほど追加したフォントを選択してください。</p>
<p><img src="./images/FontAssetCreator2.png" alt="フォントアセットクリエイター フォント指定"></p>
<p>今回はNoto Sansを追加したのでそれを選択します。</p>
<p>続いて変更を変える部分はAtlas Resolutionの項目です。この項目はフォントの画質にかかわる項目です。
今回は4096と4096に指定しておきます。</p>
<p>その次の項目であるCharacter Setの項目は使用できる文字の選択になります。
今回は<code>Custom Characters</code>を選択します。</p>
<p>選択すると以下のような画面に切り替わります。
<img src="./images/FontAssetCreator3.png" alt="フォントアセットクリエイター フォント指定"></p>
<p>この中の<code>Custon Character List</code>の部分に以下のページの内容をコピーアンドペーストしてください。</p>
<p><a href="https://gist.githubusercontent.com/kgsi/ed2f1c5696a2211c1fd1e1e198c96ee4/raw/118bb818cffe159eb4e906f82980465cd0b0021e/japanese_full.txt">japanese_full.txt</a></p>
<p>その後以下の画像の赤い四角で囲んだ<code>Generate Font Atlas</code>ボタンをクリックしてください。</p>
<p><img src="./images/FontAssetCreator4.png" alt="フォントアセットクリエイター フォント指定"></p>
<p>ボタンを押すと以下のような画面に切り替わるので処理が終わるまで待ちます。
<img src="./images/FontAssetCreator5.png" alt="フォントアセットクリエイター フォント指定"></p>
<p>終了後スクロールしてSaveボタンを押して任意の場所に保存します。</p>
<p><img src="./images/FontAssetCreator6.png" alt="フォントアセットクリエイター フォント指定"></p>
<p>これでMeshTextPro対応の形式に変換できたので実際にフォントを変更してみましょう。</p>
<p>先ほど変更していたText(TMP)を選択してください。</p>
<p>その後インスペクターウインドウのFont Assetで指定できます。
Font Assetの右側の丸をクリックして今回作成したフォントファイルを選択してください。</p>
<p><img src="./images/FontAssetCreator7.png" alt="フォントアセットクリエイター フォント指定"></p>
<p>今回はNotoSans jP-Mediam SDFを選択します。</p>
<p>その後表示している内容を以下のように書き換え日本語が正しく表示されていることを確認してください。</p>
<pre class="hljs"><code><div>スタプロ
</div></code></pre>
<p>正しくできていれば以下のように表示されると思います。</p>
<p><img src="./images/FontAssetCreator8.png" alt="フォントアセットクリエイター フォント指定"></p>
<h3 id="%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B">ボタンを追加する</h3>
<p>ボタンもテキストと同様の手順で追加することができます。</p>
<p>まずCanvasを右クリックし<code>UI&gt;ボタン - TextMeshPro</code>から追加することができます。</p>
<p>追加すると以下のように表示されます。</p>
<p><img src="./images/TextMeshProButtonSetting1.png" alt="ボタンの表示"></p>
<p>ボタンのヒエラルキーウインドウを確認すると
子要素にText(TMP)があることがわかります。
この部分を編集することで、表示内容を変更することができるようになっています。</p>
<p><img src="./images/TextMeshProButtonSetting2.png" alt="ボタンのヒエラルキー"></p>
<p>ではボタン本体のインスペクターウインドウについてみていきましょう。</p>
<p><img src="./images/TextMeshProButtonSetting3.png" alt="ボタンのインスペクター"></p>
<p>まずRect TransformについてはTextと同様です。
Imageコンポーネントはボタンに画像を指定することができるのですが、今回はボタンの基本的な使用方法を知るのが目的なので詳しい説明は割愛します。</p>
<p>中でも最も重要なのはButtonのコンポーネントです。</p>
<p><img src="./images/TextMeshProButtonSetting4.png" alt="ボタンのインスペクターButtonコンポーネント"></p>
<p>まず初めのInteractableのチェックボックスはチェックされているとボタンが無効状態になります。</p>
<p>遷移部分では4つの項目がありますが今回は色を選択した状態の説明をしていきます。</p>
<p>遷移の部分の説明を以下の表にまとめます。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ターゲットグラフィックス</td>
<td>ボタンの状態によって見た目を変えるUIオブジェクトの指定(デフォルトは自分)</td>
</tr>
<tr>
<td>通常色</td>
<td>実行したときの最初のボタンの色</td>
</tr>
<tr>
<td>強調色</td>
<td>マウスにボタンが乗った時の色</td>
</tr>
<tr>
<td>押下時の色</td>
<td>ボタンが押されている間の色</td>
</tr>
<tr>
<td>Selected Color</td>
<td>ボタンが選択されている状態の色</td>
</tr>
<tr>
<td>無効時の色</td>
<td>Interactableにチェックが入った状態の色</td>
</tr>
</tbody>
</table>
<p>基本的な設定内容は以上のようになっています。</p>
<p>続いて<code>クリック()</code>と書かれている部分の説明をします。
この部分でクリック時に呼び出すメソッドを指定することができるようになっています。</p>
<h4 id="%E3%83%9C%E3%82%BF%E3%83%B3%E3%81%AE%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E7%99%BB%E9%8C%B2">ボタンのイベント登録</h4>
<p>ボタンのイベント登録をするためにまずスクリプトを作成します。</p>
<p><code>ClickMove</code>というスクリプトを作成します。</p>
<p>その後以下のようなコードを記述してください。</p>
<pre class="hljs"><code><div><span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> UnityEngine;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ClickMove</span> : <span class="hljs-title">MonoBehaviour</span>
{
    <span class="hljs-comment">// Start is called before the first frame update</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>(<span class="hljs-params"></span>)</span>
    {
        
    }

    <span class="hljs-comment">// Update is called once per frame</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>(<span class="hljs-params"></span>)</span>
    {
        
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MoveUp</span>(<span class="hljs-params"></span>)</span>
    {
        transform.Translate(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>),Space.World);
    }
}
</div></code></pre>
<p>このコードを記述し初めに追加したCubeにアタッチしてください。</p>
<p>このプログラムはMoveUpを呼び出すとアタッチしたゲームオブジェクトが上に移動するようになっています。</p>
<p>MoveUpをクリック時に呼び出すようにします。</p>
<p>続いてボタンの設定をしていきます。</p>
<p>動作を追加するにはまず以下の画像の赤い四角で囲まれたクリック時()の<code>+</code>ボタンをクリックします。</p>
<p><img src="./images/TextMeshProButtonSetting5.png" alt="ボタンのイベント登録"></p>
<p>クリックすると以下のように項目が追加されます。</p>
<p><img src="./images/TextMeshProButtonSetting6.png" alt="ボタンのイベント登録"></p>
<p>その後以下の画像の赤い四角で囲まれた丸をクリックし選択画面を開きます。</p>
<p><img src="./images/TextMeshProButtonSetting7.png" alt="ボタンのイベント登録"></p>
<p>選択ウインドウでシーンのタブを選択します。</p>
<p><img src="./images/TextMeshProButtonSetting8.png" alt="ボタンのイベント登録"></p>
<p>シーンを選択するとCubeを選択できるのでCubeを選択します。</p>
<p><img src="./images/TextMeshProButtonSetting9.png" alt="ボタンのイベント登録"></p>
<p>Cubeを選択後No Functionの部分をクリックします。</p>
<p><img src="./images/TextMeshProButtonSetting10.png" alt="ボタンのイベント登録"></p>
<p>No Functionの部分をクリックすると以下のようなメニューが表示されます。</p>
<p><img src="./images/TextMeshProButtonSetting11.png" alt="ボタンのイベント登録"></p>
<p>初めに出てくる一覧はアタッチされているコンポーネントの一覧です。今回はClickMoveというスクリプトをアタッチしたので<code>ClickMove</code>を選択します。
選択するとClickMoveで呼び出せるめっど一覧が表示されるので先ほど作成した<code>MoveUp</code>を選択します。</p>
<p><img src="./images/TextMeshProButtonSetting12.png" alt="ボタンのイベント登録"></p>
<p>これでメソッドの登録が完了しました。</p>
<p>実行後ボタンを押すと上にCubeが動くことがわかると思います。</p>

</body>
</html>
